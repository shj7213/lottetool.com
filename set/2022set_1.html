<!DOCTYPE html>
<html class="songpro-set" lang="kr">
    <meta charset="UTF-8"/>
    <title>롯데마트 23년 설 세트계산기V23_1</title>
	
    <head>
        <style>
            body{text-align: center;}
            div{margin-bottom 4px; font-size: 2em;}
    input{display: inline; margin: auto; font-size: 2.5em; margin-top: 5px; height: 50px; width: 25%; border-width: 3px;}
    button{width:50%; height:80px; font-size: 2em; margin-bottom: 20px; margin-top: 20px; color: blueviolet;}
    #id { font-style: italic;}
    .set {color: red;}
    .set_1 {color: green;}
    div .parent {
        display: inline;
        font-size: 1.5em;
    }
    a {
        text-decoration: none;
    }
    .parent {
        display: flex;
    }
    .first {
  border: 1px solid red;
  flex:1;
  width:30%;
 font-size: 2em;
}

.second{
  border: 1px solid green;
  flex:1;
  margin: 0px 5%;
  width:30%;
  font-size: 2em;
}


        </style>

    </head>
    <body>    
        
        <p>▧ 사전예약 ▧<br> 12월 1일(목) ~ 1월 11일(수)</p>
	    
        <p>▧ 해당카드 ▧<br><img src="fbd40773-26cb-47c6-b88c-c21cee4e2f4c.PNG" width="50%"></p>
        <!--<p>▧ 사전예약 상품권 증정 안내 ▧<br>30만원이상 3만원, 50만원~100만원미만 5만원<br>
		100만원~1000만원미만 100만원 당 10만원,<br> 1,000만원 이상 100만원</p>
<p>2차 상품권증정:30만원이상 3만원, 50~100만원 5만원, 100~1,000만원-100만원 당 10만원, 1,000만원 이상 100만원</p>
<p>3차 상품권증정:30만원이상 1만5천원, 50~100만원 2만5천원, 100~1,000만원-100만원 당 5만원, 1,000만원 이상 50만원</p>
	    <p>상품권 증정:10만원이상 5천원, 20만원이상 1만원, 30~50만원 1만 5천원, 50~100만원 2만5천원, 1,000만원 이상 50만원</p>-->	   
        <h1>☆롯데마트 세트계산기 V.2202☆</h1>
        <h2>① ~ ⑦ 순서대로 입력후 계산버튼 클릭</h2>
        <h2 class="set">⑥,⑦ 반드시 협의후 입력</h2>
        <h2>내용이 없으면 비워두셔도 됩니다.</h2>
        <h2><a href="http://m.coupond.lottemart.com/leaflet/index.html#/903">❤❤❤세트예약집 보기 link❤❤❤</a></h2>
        <div>①정상가 입력-할인전 가격입력</div>
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="op_1" autofocus>
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="op_2" autofocus>
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="op_3" autofocus>
<br>
<div>②고객이 가져가는 모든수량</div>
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="ct_1">
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="ct_2">
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="ct_3">
<br>
<div>③카드/L-point회원 할인율을 입력하세요</div>
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="sc_1">
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="sc_2">
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="sc_3">
<br>
<div>④N+1(증정)-N값만 입력</div>
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="gt_1">
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="gt_2">
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="gt_3">
<br>
<div class="set_1">⑤L-point할인액 또는 추가할인단가(협의후 진행)</div>
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="sp_1">
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="sp_2">
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="sp_3">
<br>
<div class="set">⑥할인율-개당 추가할인율 입력(MD/업체 협의)</div>
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="sl_1">
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="sl_2">
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="sl_3">
<br>
<div class="set">⑦추가증정 수량입력(업체협의)</div>
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="gg_1">
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="gg_2">
<input type="number" name='userPhoneNumber' pattern='\d*' onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" id="gg_3">
<br>
<button onclick="ShowPrice()"   >계산</button>
<div id="showResult"></div>
<div id="showResult1"></div>
<p>소수점 제거 및 원단위 절삭으로<br>계산값과 실제 계산과 다소 차이가 있을 수 있으니<br> 참조용으로 사용 바랍니다.</p>
<p>★세트 계산기의 사용에 따른 책임은 사용자에게 있습니다.★</p>
<p>문의사항은 영남동부 울산점 영업M</p>

<div class="parent">
    <div class="first"><a href="http://www.lottemartgo.co.kr/lm/402/">롯데마트<br> 전단보기</a></div>
    <div class="second"><a href="https://www.lotteon.com/m/display/main/lottemart?mall_no=4">온라인으로<br> 쇼핑하기</a></div>
</div>

<script>
function addComma(num) {
  var regexp = /\B(?=(\d{3})+(?!\d))/g;
  return num.toString().replace(regexp, ',');
}
    function ShowPrice(){
    var op_1 = document.querySelector("#op_1").value; //원래가격
    var op_2 = document.querySelector("#op_2").value; //원래가격2
    var op_3 = document.querySelector("#op_3").value; //원래가격3
    var op = (op_1 + op_2 + op_3) // 원래가격 합한 단가

    var sp_1 = document.querySelector("#sp_1").value; //신가격
    var sp_2 = document.querySelector("#sp_2").value; //신가격2
    var sp_3 = document.querySelector("#sp_3").value; //신가격3
    var sp = (sp_1 + sp_2 + sp_3)//신가합계

    var sl_1 = document.querySelector("#sl_1").value; //신가율
    var sl_2 = document.querySelector("#sl_2").value; //신가율
    var sl_3 = document.querySelector("#sl_3").value; //신가율

    var sc_1 = document.querySelector("#sc_1").value; //카드할인
    var sc_2 = document.querySelector("#sc_2").value; //카드할인
    var sc_3 = document.querySelector("#sc_3").value; //카드할인

    var ct_1 = document.querySelector("#ct_1").value; //전체구매수량
    var ct_2 = document.querySelector("#ct_2").value; //전체구매수량
    var ct_3 = document.querySelector("#ct_3").value; //전체구매수량

    var gt_1 = document.querySelector("#gt_1").value; //N값
    var gt_2 = document.querySelector("#gt_2").value; //N값
    var gt_3 = document.querySelector("#gt_3").value; //N값

    var gg_1 = document.querySelector("#gg_1").value; //추가증정
    var gg_2 = document.querySelector("#gg_2").value; //추가증정
    var gg_3 = document.querySelector("#gg_3").value; //추가증정

    var np_1 = ((gt_1*1) == 0) || ((gt_1*1) == "") ? -1 : (gt_1*1) ;//N값 만들기 수식
    var np_2 = ((gt_2*1) == 0) || ((gt_2*1) == "") ? -1 : (gt_2*1) ;
    var np_3 = ((gt_3*1) == 0) || ((gt_3*1) == "") ? -1 : (gt_3*1) ;


    var n_1 = (np_1 + 1); // 1/n 값
    var n_2 = (np_2 + 1); // 1/n 값
    var n_3 = (np_3 + 1); // 1/n 값
    



    var rs_1;
    rs_1 = parseInt(((ct_1*1)-(gg_1*1)) / (n_1*1)); // n+1한 값
    var rs_2;
    rs_2 = parseInt(((ct_2*1)-(gg_2*1)) / (n_2*1)); // n+1한 값
    var rs_3;
    rs_3 = parseInt(((ct_3*1)-(gg_3*1)) / (n_3*1)); // n+1한 값


    var rd_1;
    rd_1 = ((ct_1*1)-(gg_1*1)) % n_1; // n+1하고 남은값
    var rd_2;
    rd_1 = ((ct_2*1)-(gg_2*1)) % n_2; // n+1하고 남은값
    var rd_3;
    rd_3 = ((ct_3*1)-(gg_3*1)) % n_3; // n+1하고 남은값



    var nn_1 = (n_1 == 0 ) ? 0 : (rs_1*1) ; //n+1 검증
    var nn_2 = (n_2 == 0 ) ? 0 : (rs_2*1) ;
    var nn_3 = (n_3 == 0 ) ? 0 : (rs_3*1) ;



    var gift_1 = (nn_1 + (gg_1*1)) //증정수량
    var gift_2 = (nn_2 + (gg_2*1)) //증정수량
    var gift_3 = (nn_3 + (gg_3*1)) //증정수량
    var gift = (gift_1 + gift_2 + gift_3)//상품 총증정수량



    var gc_1 = ((ct_1*1) - gift_1) //결재수량
    var gc_2 = ((ct_2*1) - gift_2) //결재수량
    var gc_3 = ((ct_3*1) - gift_3) //결재수량



    var savePrice_1 = ((((op_1*1) - (sp_1*1))*((100-(sl_1*1))/100)) * ((100-(sc_1*1)) / 100)); //할인후 단가
    var savePrice_2 = ((((op_2*1) - (sp_2*1))*((100-(sl_2*1))/100)) * ((100-(sc_2*1)) / 100)); //할인후 단가
    var savePrice_3 = ((((op_3*1) - (sp_3*1))*((100-(sl_3*1))/100)) * ((100-(sc_3*1)) / 100)); //할인후 단가


    var cash_1 = (savePrice_1 * gc_1 ); // 결재금액
    var cash_2 = (savePrice_2 * gc_2 ); // 결재금액
    var cash_3 = (savePrice_3 * gc_3 ); // 결재금액
    var cash = (cash_1 + cash_2 + cash_3); // 최종결재 금액


    var lc_1 = (cash_1 / (ct_1*1)) ; //  할인가
    var lc_2 = (cash_2 / (ct_2*1)) ; //  할인가
    var lc_3 = (cash_3 / (ct_3*1)) ; //  할인가


    let ans = cash; //상품권 증정내용
        if(ans < 100000){
            document.querySelector("#showResult1").innerHTML =("상품권 증정 대상이 아닙니다.");
    }else if(ans >= 100000 && ans < 200000){
        document.querySelector("#showResult1").innerHTML =("상품권 증정 대상이 아닙니다.");
    }else if(ans >= 200000 && ans < 300000){
        document.querySelector("#showResult1").innerHTML =("3만원 상품권 증정 입니다<br> 제외 상품이 있는지 확인 바랍니다.");
    }else if(ans >= 300000 && ans < 500000){
        document.querySelector("#showResult1").innerHTML =("상품권 5만원 증정 입니다.<br> 제외 상품이 있는지 확인 바랍니다.");
    }else if(ans >= 500000 && ans < 1000000){
        document.querySelector("#showResult1").innerHTML =("100백만원 당 13만원 상품권 증정 입니다.<br> 제외 상품이 있는지 확인 바랍니다.");
    }else if(ans >= 10000000){
        document.querySelector("#showResult1").innerHTML =("상품권 150만원 증정 입니다.<br> 제외 상품이 있는지 확인 바랍니다.");      
    }
     else{
        document.querySelector("#showResult1").innerHTML =("상품권 증정 대상이 아닙니다.");
    }
    
    document.querySelector("#showResult").innerHTML = "상품의 할인전 가격은 " +addComma(Math.round((op_1 * ct_1)+(op_2 * ct_2)+(op_3 * ct_3)))+"원 입니다.<br>"
    +addComma(Math.round(((op_1 * ct_1)+(op_2 * ct_2)+(op_3 * ct_3)) - cash))+ "원 할인 되었습니다.<br>  결재금액은" 
    +addComma(Math.round(cash))+ "원 입니다.<br> ***할인가***<br>●A: 할인가 " 
    +addComma(Math.round(lc_1))+ "원 <br>●B: 할인가 " 
    +addComma(Math.round(lc_2))+ "원 <br>●C: 할인가 " 
    +addComma(Math.round(lc_3))+ "원 입니다.<br> ***상품별 금액***<br>●A: "
    +addComma(Math.round(cash_1))+ "원 입니다.<br>●B: "
    +addComma(Math.round(cash_2))+ "원 입니다.<br>●C: "
    +addComma(Math.round(cash_3))+ "원 입니다.<br>***상품별 증정수량***<br>●A: "
    +addComma(Math.round(gift_1))+ "개 입니다.<br>●B: "
    +addComma(Math.round(gift_2))+ "개 입니다.<br>●C: "
    +addComma(Math.round(gift_3))+ "개 입니다.<br>";
  
}
 
 
</script>

</body>

</html>
